(window.webpackJsonpbootcamp14=window.webpackJsonpbootcamp14||[]).push([[0],{13:function(e,t,a){e.exports={gallery:"Gallery_gallery__1Jmm5",button:"Gallery_button__3e7nX"}},25:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__2TxJz"}},26:function(e,t,a){e.exports={overlay:"Modal_overlay__1tBQK"}},29:function(e,t,a){e.exports={app:"App_app__3dtou"}},3:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__PHk_q",stats:"PhotoCard_stats__1y6OD",statsItem:"PhotoCard_statsItem__2exu3",fullscreenButton:"PhotoCard_fullscreenButton__3IvHM"}},30:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(10),s=a.n(r),l=a(14),c=a(4),i=a(5),m=a(7),u=a(6),p=a(8),g=a(9),d=(a(35),a(12)),h=a.n(d);h.a.defaults.baseURL="https://pixabay.com/api/";var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="?key=13926508-6b0fafb95f21bec705bf751f4",n="&image_type=photo&orientation=horizontal&per_page=12",o="&q=".concat(e),r="&page=".concat(t);return h.a.get(a+n+o+r)},b=a(25),v=a.n(b),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.inputValue=function(e){a.setState({value:e.target.value})},a.reset=function(){a.setState({value:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.inputValue,a=this.state.value,n=this.props.onSubmit;return o.a.createElement("form",{onSubmit:function(t){n(t,a),e.reset()},className:v.a.searchForm},o.a.createElement("input",{onChange:t,type:"text",autoComplete:"off",placeholder:"Search images..."}))}}]),t}(n.Component),_=a(13),y=a.n(_),E=a(3),O=a.n(E),w=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.likes,r=e.views,s=e.comments,l=e.downloads,c=e.changeImgForModal;return o.a.createElement("li",null,o.a.createElement("div",{className:O.a.photoCard},o.a.createElement("img",{src:t,alt:"webformatURL"}),o.a.createElement("div",{className:O.a.stats},o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),n),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),r),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),s),o.a.createElement("p",{className:O.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),l)),o.a.createElement("button",{type:"button",className:O.a.fullscreenButton,"data-bigimg":a,onClick:c},o.a.createElement("i",{className:"material-icons"},"zoom_out_map"))))},M=function(e){var t=e.loadMore,a=e.listImages,n=e.changeImgForModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:y.a.gallery},a.map((function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.likes,s=e.views,l=e.comments,c=e.downloads,i=e.id;return o.a.createElement(w,{key:i,webformatURL:t,largeImageURL:a,likes:r,views:s,comments:l,downloads:c,changeImgForModal:n})}))),o.a.createElement("button",{onClick:t,type:"button",className:y.a.button},"Load more"))},N=a(26),k=a.n(N),j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a.modalRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.closeModal()},a.handleBgClick=function(e){var t=a.modalRef.current;t&&e.target!==t||a.props.closeModal()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.bigImg;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:this.handleBgClick,ref:this.modalRef,className:k.a.overlay},o.a.createElement("div",{className:"modal"},o.a.createElement("img",{src:e,alt:e}))))}}]),t}(n.Component);g.a.configure({autoClose:3500,draggable:!1});var C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={listImages:[],PageNumber:1,value:"map",isModalOpen:!1,bigImg:""},a.errorInput=function(e){"no server"===e&&g.a.error("\u041d\u0435\u0442\u0443 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c ! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437",{position:g.a.POSITION.TOP_LEFT}),"no images"===e&&g.a.info("\u041a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0441 \u0442\u0430\u043a\u0438\u043c \u0442\u0435\u0433\u043e\u043c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430",{position:g.a.POSITION.TOP_LEFT})},a.openModal=function(){a.setState({isModalOpen:!0})},a.closeModal=function(){a.setState({isModalOpen:!1})},a.changeImgForModal=function(e){var t=e.currentTarget.dataset.bigimg;a.openModal(),a.setState({bigImg:t})},a.loadMore=function(){f(a.state.value,a.state.PageNumber).then((function(e){var t=e.data;t.hits.length>0?a.setState((function(e){return{listImages:[].concat(Object(l.a)(e.listImages),Object(l.a)(t.hits)),PageNumber:e.PageNumber+1}})):a.errorInput("no images")})).catch((function(){return a.errorInput("no server")}))},a.onSubmit=function(e,t){e.preventDefault(),a.putImagesInList(t)},a.putImagesInList=function(e){f(e,a.state.PageNumber).then((function(t){var n=t.data;n.hits.length>0?a.setState({listImages:n.hits,PageNumber:2,value:e}):a.errorInput("no images")})).catch((function(){return a.errorInput("no server")}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.value;this.putImagesInList(e)}},{key:"render",value:function(){var e=this.state,t=e.listImages,a=e.isModalOpen,n=e.bigImg;return o.a.createElement(o.a.Fragment,null,o.a.createElement(I,{onSubmit:this.onSubmit}),o.a.createElement(M,{listImages:t,loadMore:this.loadMore,changeImgForModal:this.changeImgForModal}),a&&o.a.createElement(j,{closeModal:this.closeModal,bigImg:n}))}}]),t}(n.Component),P=a(29),L=a.n(P);s.a.render(o.a.createElement(C,{className:L.a.app}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.b973a4bd.chunk.js.map