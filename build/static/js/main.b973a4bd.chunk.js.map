{"version":3,"sources":["components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.module.css","components/Modal/Modal.module.css","components/App.module.css","components/PhotoCard/PhotoCard.module.css","services/services.js","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","components/App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","GetPhoto","SearchWord","PageNumber","key","settings","searchQwery","numberP","get","SearchForm","state","value","inputValue","e","setState","target","reset","this","onSubmit","props","className","styles","searchForm","onChange","type","autoComplete","placeholder","Component","PhotoCard","webformatURL","largeImageURL","likes","views","comments","downloads","changeImgForModal","photoCard","src","alt","stats","statsItem","fullscreenButton","data-bigimg","onClick","Gallery","loadMore","listImages","gallery","map","id","button","Modal","modalRef","createRef","handleKeyPress","code","closeModal","handleBgClick","current","window","removeEventListener","addEventListener","bigImg","ref","overlay","toast","configure","autoClose","draggable","App","isModalOpen","errorInput","infoError","error","position","POSITION","TOP_LEFT","info","openModal","valueImgLink","currentTarget","dataset","bigimg","then","data","hits","length","prevState","catch","preventDefault","putImagesInList","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.b973a4bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1Jmm5\",\"button\":\"Gallery_button__3e7nX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2TxJz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1tBQK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3dtou\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__PHk_q\",\"stats\":\"PhotoCard_stats__1y6OD\",\"statsItem\":\"PhotoCard_statsItem__2exu3\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__3IvHM\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst GetPhoto = (SearchWord, PageNumber = 1) => {\n  const key = `?key=13926508-6b0fafb95f21bec705bf751f4`;\n  const settings = '&image_type=photo&orientation=horizontal&per_page=12';\n  const searchQwery = `&q=${SearchWord}`;\n  const numberP = `&page=${PageNumber}`;\n  return axios.get(key + settings + searchQwery + numberP);\n};\n\nexport default GetPhoto;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    value: '',\n  };\n\n  inputValue = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  reset = () => {\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { inputValue } = this;\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    return (\n      <form\n        onSubmit={e => {\n          onSubmit(e, value);\n          this.reset();\n        }}\n        className={styles.searchForm}\n      >\n        <input\n          onChange={inputValue}\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  changeImgForModal,\n}) => {\n  return (\n    <li>\n      <div className={styles.photoCard}>\n        <img src={webformatURL} alt=\"webformatURL\" />\n        <div className={styles.stats}>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          className={styles.fullscreenButton}\n          data-bigimg={largeImageURL}\n          onClick={changeImgForModal}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    </li>\n  );\n};\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  changeImgForModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nconst Gallery = ({ loadMore, listImages, changeImgForModal }) => {\n  return (\n    <>\n      <ul className={styles.gallery}>\n        {listImages.map(\n          ({\n            webformatURL,\n            largeImageURL,\n            likes,\n            views,\n            comments,\n            downloads,\n            id,\n          }) => (\n            <PhotoCard\n              key={id}\n              webformatURL={webformatURL}\n              largeImageURL={largeImageURL}\n              likes={likes}\n              views={views}\n              comments={comments}\n              downloads={downloads}\n              changeImgForModal={changeImgForModal}\n            />\n          ),\n        )}\n      </ul>\n      <button onClick={loadMore} type=\"button\" className={styles.button}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nGallery.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n  listImages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  changeImgForModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  modalRef = createRef();\n\n  componentWillMount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.closeModal();\n  };\n\n  handleBgClick = e => {\n    const { current } = this.modalRef;\n    if (current && e.target !== current) return;\n    this.props.closeModal();\n  };\n\n  render() {\n    const { bigImg } = this.props;\n\n    return (\n      <>\n        <div\n          onClick={this.handleBgClick}\n          ref={this.modalRef}\n          className={styles.overlay}\n        >\n          <div className=\"modal\">\n            <img src={bigImg} alt={bigImg} />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nModal.propTypes = {\n  bigImg: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport GetPhoto from '../services/services';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport Modal from './Modal/Modal';\n\ntoast.configure({\n  autoClose: 3500,\n  draggable: false,\n});\n\nexport default class App extends Component {\n  state = {\n    listImages: [],\n    PageNumber: 1,\n    value: 'map',\n    isModalOpen: false,\n    bigImg: '',\n  };\n\n  componentDidMount() {\n    const { value } = this.state;\n    this.putImagesInList(value);\n  }\n\n  errorInput = infoError => {\n    if (infoError === 'no server') {\n      toast.error('Нету соединения с сервером ! Попробуйте в следующий раз', {\n        position: toast.POSITION.TOP_LEFT,\n      });\n    }\n    if (infoError === 'no images') {\n      toast.info(\n        'Картинок с таким тегом не найдено! Попробуйте другое слово для поиска',\n        {\n          position: toast.POSITION.TOP_LEFT,\n        },\n      );\n    }\n  };\n\n  openModal = () => {\n    this.setState({ isModalOpen: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  changeImgForModal = e => {\n    const valueImgLink = e.currentTarget.dataset.bigimg;\n    this.openModal();\n    this.setState({ bigImg: valueImgLink });\n  };\n\n  loadMore = () => {\n    GetPhoto(this.state.value, this.state.PageNumber)\n      .then(({ data }) => {\n        if (data.hits.length > 0) {\n          this.setState(prevState => ({\n            listImages: [...prevState.listImages, ...data.hits],\n            PageNumber: prevState.PageNumber + 1,\n          }));\n        } else {\n          this.errorInput('no images');\n        }\n      })\n      .catch(() => this.errorInput('no server'));\n  };\n\n  onSubmit = (e, SearchWord) => {\n    e.preventDefault();\n    this.putImagesInList(SearchWord);\n  };\n\n  putImagesInList = SearchWord => {\n    GetPhoto(SearchWord, this.state.PageNumber)\n      .then(({ data }) => {\n        if (data.hits.length > 0) {\n          this.setState({\n            listImages: data.hits,\n            PageNumber: 2,\n            value: SearchWord,\n          });\n        } else {\n          this.errorInput('no images');\n        }\n      })\n      .catch(() => this.errorInput('no server'));\n  };\n\n  render() {\n    const { listImages, isModalOpen, bigImg } = this.state;\n\n    return (\n      <>\n        <SearchForm onSubmit={this.onSubmit} />\n        <Gallery\n          listImages={listImages}\n          loadMore={this.loadMore}\n          changeImgForModal={this.changeImgForModal}\n        />\n        {isModalOpen && <Modal closeModal={this.closeModal} bigImg={bigImg} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport styles from './components/App.module.css';\n\nReactDOM.render(\n  <App className={styles.app} />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}